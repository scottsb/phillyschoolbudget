Data Creation Process
=====================

The data for this app was taken from the Philadelphia School District (http://webgui.phila.k12.pa.us/uploads/lA/ad/lAadBw8mA0yvC4FYRwrovg/FY2013-14-Consolidated-Budget.pdf). I used pdfsam (http://www.pdfsam.org/) to cut remove everything but the actual budget pages, then again to cut each individual budget line item into its own separate file. From there, I copied the first page summary data into Komodo (http://komodoide.com/) and used a regular expression to group the Functional Area separately from the budget colums: `([A-Za-z])( )(\(?\d)`, replaced with `\1|\3`. This was then pasted into Excel, where I used the text import wizard to specify a pipe-delimited import, which left two colums: the Functional Area, and a space-delimited listing of the budget numbers. I use the "Text to Columns" feature to expand the five numbers into five columns. I gave each Functional Area its own ID number and copied that number and the Functional Area into a separate summary CSV file. I added a "row 0" at the top of each to specify the budget line name.

To generate the CSV files, the data had to be "flattened." Rather than being grouped by Operational, Categorical, Capital and "Other" fund sources, I needed one big list combining them all. I copied each individual section out into a separate page and added the corresponding Functional Area id number and fund source for each copied row. Once each Functional Area for the budget line file had been copied, I saved that single sheet as a CSV file to serve as the "detail" file. This process was repeated for all of the budbet line item files.

My team and I decided upon a hierarchical XML structure for the data, so after creating each of the summary and detail CSV files, I moved them into a directory with the `converter.php` file and told the converter where to find all the files. The converter outputs an XML file by recursing through each detail file and arranging the data according to our template XML schema. Once the XML string had been generated, the converter returned the information as a well-formed XML document. This XML document provided the source for moving data into Parse.
